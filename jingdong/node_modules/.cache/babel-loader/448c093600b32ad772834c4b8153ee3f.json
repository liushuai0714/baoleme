{"remainingRequest":"/Users/liushuai/Desktop/jingdong/node_modules/thread-loader/dist/cjs.js!/Users/liushuai/Desktop/jingdong/node_modules/babel-loader/lib/index.js!/Users/liushuai/Desktop/jingdong/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/liushuai/Desktop/jingdong/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/liushuai/Desktop/jingdong/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/liushuai/Desktop/jingdong/src/views/orderList/OrderList.vue?vue&type=template&id=3daaff04&scoped=true","dependencies":[{"path":"/Users/liushuai/Desktop/jingdong/src/views/orderList/OrderList.vue","mtime":1678249977331},{"path":"/Users/liushuai/Desktop/jingdong/babel.config.js","mtime":1677648653010},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/cache-loader/dist/cjs.js","mtime":1677648643805},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/thread-loader/dist/cjs.js","mtime":1677648643805},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/babel-loader/lib/index.js","mtime":1677648644634},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1677648645111},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/cache-loader/dist/cjs.js","mtime":1677648643805},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/vue-loader-v16/dist/index.js","mtime":1677648644623}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7CmNvbnN0IF93aXRoU2NvcGVJZCA9IG4gPT4gKF9wdXNoU2NvcGVJZCgiZGF0YS12LTNkYWFmZjA0IiksIG4gPSBuKCksIF9wb3BTY29wZUlkKCksIG4pOwpjb25zdCBfaG9pc3RlZF8xID0gewogIGNsYXNzOiAid3JhcHBlciIKfTsKY29uc3QgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fd2l0aFNjb3BlSWQoKCkgPT4gLyojX19QVVJFX18qL19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICBjbGFzczogInRpdGxlIgp9LCAi5oiR55qE6K6i5Y2VIiwgLTEpKTsKY29uc3QgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogIm9yZGVycyIKfTsKY29uc3QgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogIm9yZGVyX190aXRsZSIKfTsKY29uc3QgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogIm9yZGVyX19zdGF0dXMiCn07CmNvbnN0IF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJvcmRlcl9fY29udGVudCIKfTsKY29uc3QgX2hvaXN0ZWRfNyA9IHsKICBjbGFzczogIm9yZGVyX19jb250ZW50X19pbWdzIgp9Owpjb25zdCBfaG9pc3RlZF84ID0gWyJzcmMiXTsKY29uc3QgX2hvaXN0ZWRfOSA9IHsKICBjbGFzczogIm9yZGVyX19jb250ZW50X19pbmZvIgp9Owpjb25zdCBfaG9pc3RlZF8xMCA9IHsKICBjbGFzczogIm9yZGVyX19jb250ZW50X19pbmZvX19wcmljZSIKfTsKY29uc3QgX2hvaXN0ZWRfMTEgPSB7CiAgY2xhc3M6ICJvcmRlcl9fY29udGVudF9faW5mb19fY291bnQiCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgY29uc3QgX2NvbXBvbmVudF9Eb2NrZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiRG9ja2VyIik7CiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2hvaXN0ZWRfMiwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHNldHVwLmxpc3QsIChpdGVtLCBpbmRleCkgPT4gewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygiZGl2IiwgewogICAgICBjbGFzczogIm9yZGVyIiwKICAgICAga2V5OiBpbmRleAogICAgfSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQsIFtfY3JlYXRlVGV4dFZOb2RlKF90b0Rpc3BsYXlTdHJpbmcoaXRlbS5zaG9wTmFtZSkgKyAiICIsIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfNSwgX3RvRGlzcGxheVN0cmluZyhpdGVtLmlzQ2FuY2VsZWQgPyAi5bey5Y+W5raIIiA6ICLlt7LkuIvljZUiKSwgMSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzcsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KGl0ZW0ucHJvZHVjdHMsIChpbm5lckl0ZW0sIGlubmVySW5kZXgpID0+IHsKICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIHsKICAgICAgICBrZXk6IGlubmVySW5kZXgKICAgICAgfSwgW2lubmVySW5kZXggPD0gMyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImltZyIsIHsKICAgICAgICBrZXk6IDAsCiAgICAgICAgY2xhc3M6ICJvcmRlcl9fY29udGVudF9faW1nIiwKICAgICAgICBzcmM6IGlubmVySXRlbS5wcm9kdWN0LmltZywKICAgICAgICBhbHQ6ICIiCiAgICAgIH0sIG51bGwsIDgsIF9ob2lzdGVkXzgpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoIiIsIHRydWUpXSwgNjQpOwogICAgfSksIDEyOCkpXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzksIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMCwgIiDCpSIgKyBfdG9EaXNwbGF5U3RyaW5nKGl0ZW0udG90YWxQcmljZSksIDEpLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8xMSwgIiDlhbEiICsgX3RvRGlzcGxheVN0cmluZyhpdGVtLnRvdGFsQ291bnQpICsgIuS7tiAiLCAxKV0pXSldKTsKICB9KSwgMTI4KSldKV0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9Eb2NrZXIsIHsKICAgIGN1cnJlbnRJbmRleDogMgogIH0pXSwgNjQpOwp9"},{"version":3,"names":["class","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","_renderList","$setup","list","item","index","key","_hoisted_4","shopName","_hoisted_5","_toDisplayString","isCanceled","_hoisted_6","_hoisted_7","products","innerItem","innerIndex","src","product","img","alt","_hoisted_9","_hoisted_10","totalPrice","_hoisted_11","totalCount","_createVNode","_component_Docker","currentIndex"],"sources":["/Users/liushuai/Desktop/jingdong/src/views/orderList/OrderList.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"title\">我的订单</div>\n    <div class=\"orders\">\n      <div class=\"order\" v-for=\"(item, index) in list\" :key=\"index\">\n        <div class=\"order__title\">\n          {{ item.shopName }}\n          <span class=\"order__status\">\n            {{ item.isCanceled ? \"已取消\" : \"已下单\" }}\n          </span>\n        </div>\n        <div class=\"order__content\">\n          <div class=\"order__content__imgs\">\n            <template\n              v-for=\"(innerItem, innerIndex) in item.products\"\n              :key=\"innerIndex\"\n            >\n              <img\n                class=\"order__content__img\"\n                :src=\"innerItem.product.img\"\n                alt=\"\"\n                v-if=\"innerIndex <= 3\"\n              />\n            </template>\n          </div>\n          <div class=\"order__content__info\">\n            <div class=\"order__content__info__price\">\n              &yen;{{ item.totalPrice }}\n            </div>\n            <div class=\"order__content__info__count\">\n              共{{ item.totalCount }}件\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Docker :currentIndex=\"2\" />\n</template>\n\n<script>\nimport { reactive, toRefs } from \"vue\";\nimport { get } from \"../../utils/request\";\nimport Docker from \"../../components/Docker.vue\";\n//处理订单逻辑\nconst useOrderListEffect = () => {\n  const data = reactive({ list: [] });\n  try {\n    const getOrderList = async () => {\n      const result = await get(\"/api/order\");\n      if (result?.errno === 0 && result?.data?.length) {\n        const orderList = result.data;\n        orderList.forEach((order) => {\n          const products = order.products || [];\n          let totalPrice = 0;\n          let totalCount = 0;\n          products.forEach((productItem) => {\n            totalPrice +=\n              productItem?.product.price * productItem?.orderSales || 0;\n            totalCount += productItem?.orderSales || 0;\n          });\n          order.totalPrice = totalPrice;\n          order.totalCount = totalCount;\n        });\n        data.list = result.data;\n      }\n    };\n    getOrderList();\n  } catch {\n    console.log(\"请求失败\");\n  }\n  const { list } = toRefs(data);\n  return { list };\n};\nexport default {\n  name: \"OrderList\",\n  components: { Docker },\n\n  setup() {\n    const { list } = useOrderListEffect();\n    return { list };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/viriables.scss\";\n.wrapper {\n  overflow-y: auto;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0.5rem;\n  right: 0;\n  background: rgb(248, 248, 248);\n}\n.title {\n  line-height: 0.44rem;\n  background-color: $bg-color;\n  font-size: 0.16rem;\n  text-align: center;\n  color: $content-fontColor;\n}\n\n.order {\n  padding: 0.16rem;\n  background-color: $bg-color;\n  margin: 0.16rem 0.18rem 0.16rem;\n  &__title {\n    line-height: 0.22rem;\n    font-size: 0.16rem;\n    color: $content-fontColor;\n    margin-bottom: 0.16rem;\n  }\n  &__status {\n    font-size: 0.14rem;\n    color: $light-fontColor;\n    float: right;\n  }\n  &__content {\n    // width: 1.96rem;\n    display: flex;\n    &__img {\n      height: 0.4rem;\n      width: 0.4rem;\n      margin-right: 0.12rem;\n    }\n\n    &__info {\n      flex: 1;\n      text-align: right;\n      &__price {\n        font-size: 0.14rem;\n        color: #e93b3b;\n        line-height: 0.2rem;\n      }\n      &__count {\n        margin-top: 0.04rem;\n        font-size: 0.12rem;\n        color: $content-fontColor;\n        line-height: 0.14rem;\n      }\n    }\n  }\n}\n</style>"],"mappings":";;;EACOA,KAAK,EAAC;AAAS;gEAClBC,mBAAA,CAA6B;EAAxBD,KAAK,EAAC;AAAO,GAAC,MAAI;;EAClBA,KAAK,EAAC;AAAQ;;EAEVA,KAAK,EAAC;AAAc;;EAEjBA,KAAK,EAAC;AAAe;;EAIxBA,KAAK,EAAC;AAAgB;;EACpBA,KAAK,EAAC;AAAsB;;;EAa5BA,KAAK,EAAC;AAAsB;;EAC1BA,KAAK,EAAC;AAA6B;;EAGnCA,KAAK,EAAC;AAA6B;;;6DA5BlDC,mBAAA,CAmCM,OAnCNC,UAmCM,GAlCJC,UAA6B,EAC7BF,mBAAA,CAgCM,OAhCNG,UAgCM,I,kBA/BJC,mBAAA,CA8BMC,SAAA,QAAAC,WAAA,CA9BqCC,MAAA,CAAAC,IAAI,GAApBC,IAAI,EAAEC,KAAK;yBAAtCN,mBAAA,CA8BM;MA9BDL,KAAK,EAAC,OAAO;MAAgCY,GAAG,EAAED;QACrDV,mBAAA,CAKM,OALNY,UAKM,G,kCAJDH,IAAI,CAACI,QAAQ,IAAG,GACnB,MAAAb,mBAAA,CAEO,QAFPc,UAEO,EAAAC,gBAAA,CADFN,IAAI,CAACO,UAAU,sB,GAGtBhB,mBAAA,CAsBM,OAtBNiB,UAsBM,GArBJjB,mBAAA,CAYM,OAZNkB,UAYM,I,kBAXJd,mBAAA,CAUWC,SAAA,QAAAC,WAAA,CATyBG,IAAI,CAACU,QAAQ,GAAvCC,SAAS,EAAEC,UAAU;;aACvBA;MAAU,IAMRA,UAAU,S,cAJlBjB,mBAAA,CAKE;;QAJAL,KAAK,EAAC,qBAAqB;QAC1BuB,GAAG,EAAEF,SAAS,CAACG,OAAO,CAACC,GAAG;QAC3BC,GAAG,EAAC;;iBAKVzB,mBAAA,CAOM,OAPN0B,UAOM,GANJ1B,mBAAA,CAEM,OAFN2B,WAEM,EAFmC,IAClC,GAAAZ,gBAAA,CAAGN,IAAI,CAACmB,UAAU,OAEzB5B,mBAAA,CAEM,OAFN6B,WAEM,EAFmC,IACtC,GAAAd,gBAAA,CAAGN,IAAI,CAACqB,UAAU,IAAG,IACxB,K;iBAMVC,YAAA,CAA4BC,iBAAA;IAAnBC,YAAY,EAAE;EAAC,G"}]}