{"remainingRequest":"/Users/liushuai/Desktop/jingdong/node_modules/thread-loader/dist/cjs.js!/Users/liushuai/Desktop/jingdong/node_modules/babel-loader/lib/index.js!/Users/liushuai/Desktop/jingdong/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/liushuai/Desktop/jingdong/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/liushuai/Desktop/jingdong/src/views/shop/Content.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/liushuai/Desktop/jingdong/src/views/shop/Content.vue","mtime":1678329963145},{"path":"/Users/liushuai/Desktop/jingdong/babel.config.js","mtime":1677648653010},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/cache-loader/dist/cjs.js","mtime":1677648643805},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/thread-loader/dist/cjs.js","mtime":1677648643805},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/babel-loader/lib/index.js","mtime":1677648644634},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/cache-loader/dist/cjs.js","mtime":1677648643805},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/vue-loader-v16/dist/index.js","mtime":1677648644623}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVhY3RpdmUsIHJlZiwgdG9SZWZzLCB3YXRjaEVmZmVjdCB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IGdldCB9IGZyb20gIi4uLy4uL3V0aWxzL3JlcXVlc3QiOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gInZ1ZS1yb3V0ZXIiOwppbXBvcnQgeyB1c2VDb21tb25DYXJ0RWZmZWN0IH0gZnJvbSAiLi4vLi4vZWZmZWN0cy9jYXJ0RWZmZWN0cy5qcyI7CmNvbnN0IGNhdGVnb3JpZXMgPSBbewogIGlkOiAxLAogIG5hbWU6ICLlhajpg6jllYblk4EiLAogIHRhYjogImFsbCIKfSwgewogIGlkOiAyLAogIG5hbWU6ICLnp5LmnYAiLAogIHRhYjogInNlY2tpbGwiCn0sIHsKICBpZDogMywKICBuYW1lOiAi5paw6bKc5rC05p6cIiwKICB0YWI6ICJmcnVpdCIKfV07Ci8vdGFi5YiH5o2i6YC76L6RCmNvbnN0IHVzZVRhYkVmZmVjdCA9ICgpID0+IHsKICBjb25zdCBjdXJyZW50VGFiID0gcmVmKGNhdGVnb3JpZXNbMF0udGFiKTsKICBjb25zdCBoYW5kbGVUYWJDbGljayA9IHRhYiA9PiB7CiAgICBjdXJyZW50VGFiLnZhbHVlID0gdGFiOwogIH07CiAgcmV0dXJuIHsKICAgIGN1cnJlbnRUYWIsCiAgICBoYW5kbGVUYWJDbGljawogIH07Cn07Ci8vIOWIl+ihqOWGheWuueebuOWFs+eahOmAu+i+kQpjb25zdCB1c2VDdXJyZW50TGlzdEVmZmVjdCA9IChjdXJyZW50VGFiLCBzaG9wSWQpID0+IHsKICBjb25zdCBjb250ZW50ID0gcmVhY3RpdmUoewogICAgbGlzdDogW10KICB9KTsKICBjb25zdCBnZXRDb250ZW50RGF0YSA9IGFzeW5jICgpID0+IHsKICAgIHZhciBfcmVzdWx0JGRhdGE7CiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXQoYC9hcGkvc2hvcC8ke3Nob3BJZH0vcHJvZHVjdHNgLCB7CiAgICAgIHRhYjogY3VycmVudFRhYi52YWx1ZQogICAgfSk7CiAgICBpZiAoKHJlc3VsdCA9PT0gbnVsbCB8fCByZXN1bHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdC5lcnJubykgPT09IDAgJiYgcmVzdWx0ICE9PSBudWxsICYmIHJlc3VsdCAhPT0gdm9pZCAwICYmIChfcmVzdWx0JGRhdGEgPSByZXN1bHQuZGF0YSkgIT09IG51bGwgJiYgX3Jlc3VsdCRkYXRhICE9PSB2b2lkIDAgJiYgX3Jlc3VsdCRkYXRhLmxlbmd0aCkgewogICAgICBjb250ZW50Lmxpc3QgPSByZXN1bHQuZGF0YTsKICAgIH0KICB9OwogIHdhdGNoRWZmZWN0KCgpID0+IHsKICAgIGdldENvbnRlbnREYXRhKCk7CiAgfSk7CiAgY29uc3QgewogICAgbGlzdAogIH0gPSB0b1JlZnMoY29udGVudCk7CiAgcmV0dXJuIHsKICAgIGxpc3QKICB9Owp9OwovL+i0reeJqei9puebuOWFs+mAu+i+kQpjb25zdCB1c2VDYXJ0RWZmZWN0ID0gc2hvcElkID0+IHsKICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgY29uc3QgewogICAgY2hhbmdlQ2FydEl0ZW1JbmZvLAogICAgY2FydExpc3QKICB9ID0gdXNlQ29tbW9uQ2FydEVmZmVjdChzaG9wSWQpOwogIGNvbnN0IGNoYW5nZVNob3BOYW1lID0gKHNob3BJZCwgc2hvcE5hbWUpID0+IHsKICAgIHN0b3JlLmNvbW1pdCgiY2hhbmdlU2hvcE5hbWUiLCB7CiAgICAgIHNob3BJZCwKICAgICAgc2hvcE5hbWUKICAgIH0pOwogIH07CiAgY29uc3QgY2hhbmdlQ2FydEl0ZW0gPSAoc2hvcElkLCBwcm9kdWN0SWQsIGl0ZW0sIG51bSwgc2hvcE5hbWUpID0+IHsKICAgIGNoYW5nZUNhcnRJdGVtSW5mbyhzaG9wSWQsIHByb2R1Y3RJZCwgaXRlbSwgbnVtKTsKICAgIGNoYW5nZVNob3BOYW1lKHNob3BJZCwgc2hvcE5hbWUpOwogIH07CiAgY29uc3QgZ2V0UHJvZHVjdENhcnRDb3VudCA9IChzaG9wSWQsIHByb2R1Y3RJZCkgPT4gewogICAgdmFyIF9jYXJ0TGlzdCRzaG9wSWQsIF9jYXJ0TGlzdCRzaG9wSWQkcHJvZCwgX2NhcnRMaXN0JHNob3BJZCRwcm9kMjsKICAgIHJldHVybiAoY2FydExpc3QgPT09IG51bGwgfHwgY2FydExpc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfY2FydExpc3Qkc2hvcElkID0gY2FydExpc3Rbc2hvcElkXSkgPT09IG51bGwgfHwgX2NhcnRMaXN0JHNob3BJZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jYXJ0TGlzdCRzaG9wSWQkcHJvZCA9IF9jYXJ0TGlzdCRzaG9wSWQucHJvZHVjdExpc3QpID09PSBudWxsIHx8IF9jYXJ0TGlzdCRzaG9wSWQkcHJvZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jYXJ0TGlzdCRzaG9wSWQkcHJvZDIgPSBfY2FydExpc3Qkc2hvcElkJHByb2RbcHJvZHVjdElkXSkgPT09IG51bGwgfHwgX2NhcnRMaXN0JHNob3BJZCRwcm9kMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2NhcnRMaXN0JHNob3BJZCRwcm9kMi5jb3VudCkgfHwgMDsKICB9OwogIHJldHVybiB7CiAgICBjYXJ0TGlzdCwKICAgIGNoYW5nZUNhcnRJdGVtLAogICAgY2hhbmdlQ2FydEl0ZW1JbmZvLAogICAgZ2V0UHJvZHVjdENhcnRDb3VudAogIH07Cn07CmNvbnN0IGFkZEFuaW1hdGlvbiA9ICgpID0+IHsKICBjb25zdCBnZXRLZXlmcmFtZXMgPSBrZXlmcmFtZXNOYW1lID0+IHsKICAgIC8v6YCa6L+H5a6a5LmJ55qE5Yqo55S75Ye95pWw5ZCN5p2l5p+l6K+i5Ye95pWwCiAgICBsZXQgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOyAvL+iOt+WPluaJgOacieagt+W8j+ihqAogICAgbGV0IGFuaW1hdGlvbiA9IHt9OyAvL+WumuS5ieS4gOS4qmFuaW1hdGlvbuadpeijheiOt+W+l+eahOWAvAogICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZVNoZWV0Lmxlbmd0aDsgaSsrKSB7CiAgICAvL+mBjeWOhuW+queOr+iOt+WPlnN0eWxlU2hlZXQKCiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHN0eWxlU2hlZXQuY3NzUnVsZXMubGVuZ3RoOyBqKyspIHsKICAgICAgLy/pgY3ljoblvqrnjq/ojrflj5ZzdHlsZVNoZWV0W2ldLmNzc1J1bGVzCiAgICAgIC8v5Yik5pat5qC35byP5ZCN5a2X5piv5ZCm5Li6Q1NTS2V5ZnJhbWVzUnVsZQoKICAgICAgaWYgKHN0eWxlU2hlZXQuY3NzUnVsZXNbal0uY29uc3RydWN0b3IubmFtZSA9PT0gIkNTU0tleWZyYW1lc1J1bGUiKSB7CiAgICAgICAgLy8gICAvL+WGjeWIpOaWreatpOaXtui/meS4quWKqOeUu+WHveaVsOWQjeaYr+WQpuS4uuS8oOWFpeeahOWAvAogICAgICAgIGlmIChrZXlmcmFtZXNOYW1lID09PSBzdHlsZVNoZWV0LmNzc1J1bGVzW2pdLm5hbWUpIHsKICAgICAgICAgIC8v6I635Y+W5q2k5pe255qEY3NzUnVsZXPvvIxpbmRleO+8jOWSjHN0eWxlU2hlZXQKICAgICAgICAgIGFuaW1hdGlvbi5jc3NSdWxlcyA9IHN0eWxlU2hlZXQuY3NzUnVsZXNbal07CiAgICAgICAgICBhbmltYXRpb24uaW5kZXggPSBqOwogICAgICAgICAgYW5pbWF0aW9uLnN0eWxlU2hlZXQgPSBzdHlsZVNoZWV0OwogICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbjsgLy/ov5Tlm57ojrflj5bnmoRhbmltYXRpb24KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICBjb25zdCBzcGVjID0gaWQgPT4gewogICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmNvbnRlbnQiKTsKICAgIGNvbnN0IGJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIucHJvZHVjdF9fbnVtYmVyX19hZGQiKTsKICAgIGNvbnN0IGNhcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuY2hlY2tfX2ljb24iKTsKICAgIGNvbnN0IGJ0blJlYXQgPSBidG5zW2lkIC0gMV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICBjb25zdCB0b3AgPSBidG5SZWF0LnRvcCAtIGJ0blJlYXQuaGVpZ2h0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7CiAgICBjb25zdCBsZWZ0ID0gYnRuUmVhdC5sZWZ0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgIGNvbnN0IGNhcnRSZWF0ID0gY2FydC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgIGNvbnN0IHggPSBjYXJ0UmVhdC5sZWZ0IC0gYnRuUmVhdC5sZWZ0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7CiAgICBjb25zdCB5ID0gY2FydFJlYXQudG9wIC0gYnRuUmVhdC50b3AgKyBjYXJ0UmVhdC5oZWlnaHQgLyAyICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDsKICAgIC8vIHZhciBYID0KICAgIC8vICAgdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0ICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7CgogICAgLy8gdmFyIFkgPQogICAgLy8gICB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7CiAgICAvLyBjb25zb2xlLmxvZyh0b3AsIGxlZnQsIHgsIHkpOwogICAgZGl2LmNsYXNzTmFtZSA9ICJwbHVzIjsKICAgIGRpdi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9InBsdXNfX3dvcmQgaWNvbmZvbnQiPiYjeGU2NjE7PC9pPmA7CiAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAiYWJzb2x1dGUiOwogICAgZGl2LnN0eWxlLndpZHRoID0gIi4ycmVtIjsKICAgIGRpdi5zdHlsZS5oZWlnaHQgPSAiLjJyZW0iOwogICAgZGl2LnN0eWxlLnRvcCA9IHRvcCArICJweCI7CiAgICBkaXYuc3R5bGUubGVmdCA9IGxlZnQgKyAicHgiOwogICAgY29uc3Qgc3R5bGVTaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdOwogICAgbGV0IHgyID0gZ2V0S2V5ZnJhbWVzKCJtb3ZlWCIpOwogICAgbGV0IGluc2VydEtleWZyYW1lcyA9IGBAa2V5ZnJhbWVzIG1vdmVYIHt0byB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgke3h9cHgpIH19YDsKICAgIGlmICh4MikgewogICAgICBzdHlsZVNoZWV0LmRlbGV0ZVJ1bGUoeDIuaW5kZXgpOwogICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoaW5zZXJ0S2V5ZnJhbWVzLCB4Mi5pbmRleCk7CiAgICB9IGVsc2UgewogICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoaW5zZXJ0S2V5ZnJhbWVzKTsKICAgIH0KICAgIGxldCB5MiA9IGdldEtleWZyYW1lcygibW92ZVkiKTsKICAgIGxldCBpbnNlcnRLZXlmcmFtZXMyID0gYEBrZXlmcmFtZXMgbW92ZVkge3RvIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKCR7eX1weCkgfX1gOwogICAgaWYgKHkyKSB7CiAgICAgIHN0eWxlU2hlZXQuZGVsZXRlUnVsZSh5Mi5pbmRleCk7CiAgICAgIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShpbnNlcnRLZXlmcmFtZXMyLCB5Mi5pbmRleCk7CiAgICB9IGVsc2UgewogICAgICBzdHlsZVNoZWV0Lmluc2VydFJ1bGUoaW5zZXJ0S2V5ZnJhbWVzMik7CiAgICB9CiAgICBjb25zdCB3b3JkID0gZGl2LnF1ZXJ5U2VsZWN0b3IoIi5wbHVzX193b3JkIik7CiAgICB3b3JkLnN0eWxlLmNvbG9yID0gIiMwMDkxRkYiOwogICAgd29yZC5zdHlsZS5wb3NpdGlvbiA9ICJhYnNvbHV0ZSI7CiAgICB3b3JkLnN0eWxlLmZvbnRTaXplID0gIi4ycmVtIjsKICAgIHdvcmQuc3R5bGUubGluZUhlcmdodCA9ICIuMnJlbSI7CiAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgY2xlYXJUaW1lb3V0KCk7CiAgICAgIGRpdi5zdHlsZS5hbmltYXRpb25OYW1lID0gIm1vdmVYIjsKICAgICAgZGl2LnN0eWxlLmFuaW1hdGlvbkR1cmF0aW9uID0gIi41cyI7CiAgICAgIGRpdi5zdHlsZS5hbmltYXRpb25UaW1pbmdGdW5jdGlvbiA9ICJsaW5lYXIiOwogICAgICB3b3JkLnN0eWxlLmFuaW1hdGlvbk5hbWUgPSAibW92ZVkiOwogICAgICB3b3JkLnN0eWxlLmFuaW1hdGlvbkR1cmF0aW9uID0gIi41cyI7CiAgICAgIHdvcmQuc3R5bGUuYW5pbWF0aW9uVGltaW5nRnVuY3Rpb24gPSAiY3ViaWMtYmV6aWVyKDAuMzksLTAuNjIsIDEsIDEpIjsKICAgIH0sIDApOwogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpOwogICAgZGl2LmFkZEV2ZW50TGlzdGVuZXIoImFuaW1hdGlvbmVuZCIsICgpID0+IHsKICAgICAgZGl2LnJlbW92ZSgpOwogICAgfSk7CiAgfTsKICByZXR1cm4gewogICAgc3BlYwogIH07Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ29udGVudCIsCiAgcHJvcHM6IFsic2hvcE5hbWUiXSwKICBzZXR1cCgpIHsKICAgIGNvbnN0IHJvdXRlID0gdXNlUm91dGUoKTsKICAgIGNvbnN0IHNob3BJZCA9IHJvdXRlLnBhcmFtcy5pZDsKICAgIGNvbnN0IHsKICAgICAgY3VycmVudFRhYiwKICAgICAgaGFuZGxlVGFiQ2xpY2sKICAgIH0gPSB1c2VUYWJFZmZlY3QoKTsKICAgIGNvbnN0IHsKICAgICAgbGlzdAogICAgfSA9IHVzZUN1cnJlbnRMaXN0RWZmZWN0KGN1cnJlbnRUYWIsIHNob3BJZCk7CiAgICBjb25zdCB7CiAgICAgIGNhcnRMaXN0LAogICAgICBjaGFuZ2VDYXJ0SXRlbSwKICAgICAgZ2V0UHJvZHVjdENhcnRDb3VudAogICAgfSA9IHVzZUNhcnRFZmZlY3Qoc2hvcElkKTsKICAgIGNvbnN0IHsKICAgICAgc3BlYwogICAgfSA9IGFkZEFuaW1hdGlvbigpOwogICAgcmV0dXJuIHsKICAgICAgc3BlYywKICAgICAgbGlzdCwKICAgICAgY2F0ZWdvcmllcywKICAgICAgaGFuZGxlVGFiQ2xpY2ssCiAgICAgIGN1cnJlbnRUYWIsCiAgICAgIHNob3BJZCwKICAgICAgY2FydExpc3QsCiAgICAgIGNoYW5nZUNhcnRJdGVtLAogICAgICBnZXRQcm9kdWN0Q2FydENvdW50CiAgICB9OwogIH0KfTs="},{"version":3,"names":["reactive","ref","toRefs","watchEffect","get","useStore","useRoute","useCommonCartEffect","categories","id","name","tab","useTabEffect","currentTab","handleTabClick","value","useCurrentListEffect","shopId","content","list","getContentData","_result$data","result","errno","data","length","useCartEffect","store","changeCartItemInfo","cartList","changeShopName","shopName","commit","changeCartItem","productId","item","num","getProductCartCount","_cartList$shopId","_cartList$shopId$prod","_cartList$shopId$prod2","productList","count","addAnimation","getKeyframes","keyframesName","styleSheet","document","styleSheets","animation","j","cssRules","constructor","index","spec","div","createElement","querySelector","btns","querySelectorAll","cart","btnReat","getBoundingClientRect","top","height","documentElement","scrollLeft","left","scrollTop","cartReat","x","y","className","innerHTML","style","position","width","x2","insertKeyframes","deleteRule","insertRule","y2","insertKeyframes2","word","color","fontSize","lineHerght","setTimeout","clearTimeout","animationName","animationDuration","animationTimingFunction","body","appendChild","addEventListener","remove","props","setup","route","params"],"sources":["/Users/liushuai/Desktop/jingdong/src/views/shop/Content.vue"],"sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"category\">\n      <div\n        :class=\"{\n          category__item: true,\n          'category__item--active': currentTab === item.tab,\n        }\"\n        v-for=\"item in categories\"\n        :key=\"item.id\"\n        @click=\"() => handleTabClick(item.tab)\"\n      >\n        {{ item.name }}\n      </div>\n    </div>\n    <div class=\"product\">\n      <div class=\"product__item\" v-for=\"item in list\" :key=\"item._id\">\n        <img class=\"product__item__img\" :src=\"item.imgUrl\" alt=\"\" />\n        <div class=\"product__item__detail\">\n          <h4 class=\"product__item__title\">{{ item.name }}</h4>\n          <p class=\"product__item__sales\">月售{{ item.sales }}件</p>\n          <p class=\"product__item__price\">\n            <span class=\"product__item__yen\">&yen;</span>{{ item.price }}\n            <span class=\"product__item__origin\">&yen;{{ item.oldPrice }}</span>\n          </p>\n        </div>\n        <div class=\"product__number\">\n          <span\n            class=\"product__number__minus iconfont\"\n            @click=\"\n              () => {\n                changeCartItem(shopId, item._id, item, -1, shopName);\n              }\n            \"\n            >&#xe62a;</span\n          >\n          {{ getProductCartCount(shopId, item._id) }}\n          <span\n            class=\"product__number__add iconfont\"\n            @click=\"\n              () => {\n                changeCartItem(shopId, item._id, item, 1, shopName);\n                spec(item._id);\n              }\n            \"\n            >&#xe661;</span\n          >\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { reactive, ref, toRefs, watchEffect } from \"vue\";\nimport { get } from \"../../utils/request\";\nimport { useStore } from \"vuex\";\nimport { useRoute } from \"vue-router\";\nimport { useCommonCartEffect } from \"../../effects/cartEffects.js\";\n\nconst categories = [\n  {\n    id: 1,\n    name: \"全部商品\",\n    tab: \"all\",\n  },\n  {\n    id: 2,\n    name: \"秒杀\",\n    tab: \"seckill\",\n  },\n  {\n    id: 3,\n    name: \"新鲜水果\",\n    tab: \"fruit\",\n  },\n];\n//tab切换逻辑\nconst useTabEffect = () => {\n  const currentTab = ref(categories[0].tab);\n  const handleTabClick = (tab) => {\n    currentTab.value = tab;\n  };\n  return { currentTab, handleTabClick };\n};\n// 列表内容相关的逻辑\nconst useCurrentListEffect = (currentTab, shopId) => {\n  const content = reactive({ list: [] });\n  const getContentData = async () => {\n    const result = await get(`/api/shop/${shopId}/products`, {\n      tab: currentTab.value,\n    });\n    if (result?.errno === 0 && result?.data?.length) {\n      content.list = result.data;\n    }\n  };\n  watchEffect(() => {\n    getContentData();\n  });\n  const { list } = toRefs(content);\n  return { list };\n};\n//购物车相关逻辑\nconst useCartEffect = (shopId) => {\n  const store = useStore();\n  const { changeCartItemInfo, cartList } = useCommonCartEffect(shopId);\n  const changeShopName = (shopId, shopName) => {\n    store.commit(\"changeShopName\", { shopId, shopName });\n  };\n  const changeCartItem = (shopId, productId, item, num, shopName) => {\n    changeCartItemInfo(shopId, productId, item, num);\n    changeShopName(shopId, shopName);\n  };\n\n  const getProductCartCount = (shopId, productId) => {\n    return cartList?.[shopId]?.productList?.[productId]?.count || 0;\n  };\n\n  return {\n    cartList,\n    changeCartItem,\n    changeCartItemInfo,\n    getProductCartCount,\n  };\n};\n\nconst addAnimation = () => {\n  const getKeyframes = (keyframesName) => {\n    //通过定义的动画函数名来查询函数\n    let styleSheet = document.styleSheets[0]; //获取所有样式表\n    let animation = {}; //定义一个animation来装获得的值\n    // for (let i = 0; i < styleSheet.length; i++) {\n    //遍历循环获取styleSheet\n\n    for (let j = 0; j < styleSheet.cssRules.length; j++) {\n      //遍历循环获取styleSheet[i].cssRules\n      //判断样式名字是否为CSSKeyframesRule\n\n      if (styleSheet.cssRules[j].constructor.name === \"CSSKeyframesRule\") {\n        //   //再判断此时这个动画函数名是否为传入的值\n        if (keyframesName === styleSheet.cssRules[j].name) {\n          //获取此时的cssRules，index，和styleSheet\n          animation.cssRules = styleSheet.cssRules[j];\n          animation.index = j;\n          animation.styleSheet = styleSheet;\n          return animation; //返回获取的animation\n        }\n      }\n    }\n  };\n\n  const spec = (id) => {\n    const div = document.createElement(\"div\");\n    const content = document.querySelector(\".content\");\n    const btns = document.querySelectorAll(\".product__number__add\");\n    const cart = document.querySelector(\".check__icon\");\n    const btnReat = btns[id - 1].getBoundingClientRect();\n    const top = btnReat.top - btnReat.height + document.documentElement.scrollLeft;\n    const left = btnReat.left +  document.documentElement.scrollTop;\n    const cartReat = cart.getBoundingClientRect();\n    const x = cartReat.left - btnReat.left + document.documentElement.scrollLeft;\n    const y = cartReat.top - btnReat.top + cartReat.height / 2 + document.documentElement.scrollTop;\n    // var X =\n    //   this.getBoundingClientRect().left + document.documentElement.scrollLeft;\n\n    // var Y =\n    //   this.getBoundingClientRect().top + document.documentElement.scrollTop;\n    // console.log(top, left, x, y);\n    div.className = \"plus\";\n    div.innerHTML = `<i class=\"plus__word iconfont\">&#xe661;</i>`;\n    div.style.position = \"absolute\";\n    div.style.width = \".2rem\";\n    div.style.height = \".2rem\";\n    div.style.top = top + \"px\";\n    div.style.left = left + \"px\";\n\n    const styleSheet = document.styleSheets[0];\n    let x2 = getKeyframes(\"moveX\");\n    let insertKeyframes = `@keyframes moveX {to { transform: translateX(${x}px) }}`;\n    if (x2) {\n      styleSheet.deleteRule(x2.index);\n      styleSheet.insertRule(insertKeyframes, x2.index);\n    } else {\n      styleSheet.insertRule(insertKeyframes);\n    }\n\n    let y2 = getKeyframes(\"moveY\");\n    let insertKeyframes2 = `@keyframes moveY {to { transform: translateY(${y}px) }}`;\n    if (y2) {\n      styleSheet.deleteRule(y2.index);\n      styleSheet.insertRule(insertKeyframes2, y2.index);\n    } else {\n      styleSheet.insertRule(insertKeyframes2);\n    }\n    const word = div.querySelector(\".plus__word\");\n    word.style.color = \"#0091FF\";\n    word.style.position = \"absolute\";\n    word.style.fontSize = \".2rem\";\n    word.style.lineHerght = \".2rem\";\n    setTimeout(() => {\n      clearTimeout();\n      div.style.animationName = \"moveX\";\n      div.style.animationDuration = \".5s\";\n      div.style.animationTimingFunction = \"linear\";\n      word.style.animationName = \"moveY\";\n      word.style.animationDuration = \".5s\";\n      word.style.animationTimingFunction = \"cubic-bezier(0.39,-0.62, 1, 1)\";\n    }, 0);\n\n    document.body.appendChild(div);\n    div.addEventListener(\"animationend\", () => {\n      div.remove();\n    });\n  };\n\n  return { spec };\n};\n\nexport default {\n  name: \"Content\",\n  props: [\"shopName\"],\n  setup() {\n    const route = useRoute();\n    const shopId = route.params.id;\n    const { currentTab, handleTabClick } = useTabEffect();\n    const { list } = useCurrentListEffect(currentTab, shopId);\n    const { cartList, changeCartItem, getProductCartCount } =\n      useCartEffect(shopId);\n\n    const { spec } = addAnimation();\n    return {\n      spec,\n      list,\n      categories,\n      handleTabClick,\n      currentTab,\n      shopId,\n      cartList,\n      changeCartItem,\n      getProductCartCount,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/viriables.scss\";\n@import \"../../style/mixins.scss\";\n.content {\n  position: absolute;\n  display: flex;\n  left: 0;\n  right: 0;\n  top: 1.5rem;\n  bottom: 0.5rem;\n  background-color: #ccc;\n}\n.category {\n  width: 0.76rem;\n  background: $search-bgColor;\n  height: 100%;\n  overflow-y: scroll;\n  &__item {\n    text-align: center;\n    line-height: 0.4rem;\n    font-size: 0.14rem;\n    color: $content-fontColor;\n    &--active {\n      background: $bg-color;\n    }\n  }\n}\n.product {\n  overflow-y: scroll;\n  flex: 1;\n  background-color: $bg-color;\n  &__item {\n    position: relative;\n    display: flex;\n    padding: 0.12rem 0;\n    margin: 0 0.16rem;\n    border-bottom: 0.01rem solid $content-bgColor;\n    &__detail {\n      overflow: hidden;\n    }\n    &__img {\n      width: 0.68rem;\n      height: 0.68rem;\n      margin-right: 0.16rem;\n    }\n    &__title {\n      line-height: 0.2rem;\n      font-size: 0.14rem;\n      color: $content-fontColor;\n      margin: 0;\n      @include ellipsis;\n    }\n    &__sales {\n      margin: 0.06rem 0;\n      line-height: 0.16rem;\n      font-size: 0.12rem;\n      color: $content-fontColor;\n    }\n    &__price {\n      color: $hightlight-fontColor;\n      margin: 0;\n      line-height: 0.2rem;\n      font-size: 0.14rem;\n    }\n    &__yen {\n      color: $hightlight-fontColor;\n      font-size: 0.12rem;\n    }\n    &__origin {\n      line-height: 0.2rem;\n      font-size: 0.12rem;\n      color: $light-fontColor;\n      text-decoration: line-through;\n    }\n    .product__number {\n      position: absolute;\n      right: 0;\n      bottom: 0.2rem;\n      line-height: 0.25rem;\n      font-size: 0.14rem;\n      color: #333;\n      &__minus,\n      &__add {\n        position: relative;\n        top: 0.04rem;\n        display: inline-block;\n        line-height: 0.24rem;\n        border-radius: 50%;\n        font-size: 0.25rem;\n        text-align: center;\n      }\n      &__minus {\n        color: $btn-bgColor;\n        margin-right: 0.05rem;\n      }\n      &__add {\n        color: $btn-bgColor;\n        margin-left: 0.05rem;\n      }\n    }\n  }\n}\n</style>"],"mappings":"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"}]}