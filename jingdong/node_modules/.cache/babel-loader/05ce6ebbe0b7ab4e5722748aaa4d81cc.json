{"remainingRequest":"/Users/liushuai/Desktop/jingdong/node_modules/thread-loader/dist/cjs.js!/Users/liushuai/Desktop/jingdong/node_modules/babel-loader/lib/index.js!/Users/liushuai/Desktop/jingdong/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/liushuai/Desktop/jingdong/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/liushuai/Desktop/jingdong/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/liushuai/Desktop/jingdong/src/views/register/Register.vue?vue&type=template&id=a83fff20&scoped=true","dependencies":[{"path":"/Users/liushuai/Desktop/jingdong/src/views/register/Register.vue","mtime":1678326367266},{"path":"/Users/liushuai/Desktop/jingdong/babel.config.js","mtime":1677648653010},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/cache-loader/dist/cjs.js","mtime":1677648643805},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/thread-loader/dist/cjs.js","mtime":1677648643805},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/babel-loader/lib/index.js","mtime":1677648644634},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1677648645111},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/cache-loader/dist/cjs.js","mtime":1677648643805},{"path":"/Users/liushuai/Desktop/jingdong/node_modules/vue-loader-v16/dist/index.js","mtime":1677648644623}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBwdXNoU2NvcGVJZCBhcyBfcHVzaFNjb3BlSWQsIHBvcFNjb3BlSWQgYXMgX3BvcFNjb3BlSWQgfSBmcm9tICJ2dWUiOwpjb25zdCBfd2l0aFNjb3BlSWQgPSBuID0+IChfcHVzaFNjb3BlSWQoImRhdGEtdi1hODNmZmYyMCIpLCBuID0gbigpLCBfcG9wU2NvcGVJZCgpLCBuKTsKY29uc3QgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogIndyYXBwZXIiCn07CmNvbnN0IF9ob2lzdGVkXzIgPSAvKiNfX1BVUkVfXyovX3dpdGhTY29wZUlkKCgpID0+IC8qI19fUFVSRV9fKi9fY3JlYXRlRWxlbWVudFZOb2RlKCJpbWciLCB7CiAgc3JjOiAiaHR0cDovL3d3dy5kZWxsLWxlZS5jb20vaW1ncy92dWUzL3VzZXIucG5nIiwKICBhbHQ6ICIiLAogIGNsYXNzOiAid3JhcHBlcl9faW1nIgp9LCBudWxsLCAtMSkpOwpjb25zdCBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAid3JhcHBlcl9faW5wdXQiCn07CmNvbnN0IF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJ3cmFwcGVyX19pbnB1dCIKfTsKY29uc3QgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogIndyYXBwZXJfX2lucHV0Igp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIGNvbnN0IF9jb21wb25lbnRfVG9hc3QgPSBfcmVzb2x2ZUNvbXBvbmVudCgiVG9hc3QiKTsKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBbX2hvaXN0ZWRfMiwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW193aXRoRGlyZWN0aXZlcyhfY3JlYXRlRWxlbWVudFZOb2RlKCJpbnB1dCIsIHsKICAgIHR5cGU6ICJ0ZXh0IiwKICAgIGNsYXNzOiAid3JhcHBlcl9faW5wdXRfX2NvbnRlbnQiLAogICAgcGxhY2Vob2xkZXI6ICLor7fovpPlhaXnlKjmiLflkI0iLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMF0gfHwgKF9jYWNoZVswXSA9ICRldmVudCA9PiAkc2V0dXAudXNlcm5hbWUgPSAkZXZlbnQpCiAgfSwgbnVsbCwgNTEyKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLnVzZXJuYW1lXV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzQsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgY2xhc3M6ICJ3cmFwcGVyX19pbnB1dF9fY29udGVudCIsCiAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeWvhueggSIsCiAgICBhdXRvY29tcGxldGU6ICJuZXctcGFzc3dvcmQiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9ICRldmVudCA9PiAkc2V0dXAucGFzc3dvcmQgPSAkZXZlbnQpCiAgfSwgbnVsbCwgNTEyKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLnBhc3N3b3JkXV0pXSksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzUsIFtfd2l0aERpcmVjdGl2ZXMoX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAicGFzc3dvcmQiLAogICAgY2xhc3M6ICJ3cmFwcGVyX19pbnB1dF9fY29udGVudCIsCiAgICBpZDogIndyYXBwZXJfX2lucHV0X19jb250ZW50IiwKICAgIHBsYWNlaG9sZGVyOiAi56Gu6K6k5a+G56CBIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSAkZXZlbnQgPT4gJHNldHVwLmVuc3VyZW1lbnQgPSAkZXZlbnQpCiAgfSwgbnVsbCwgNTEyKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLmVuc3VyZW1lbnRdXSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgY2xhc3M6ICJ3cmFwcGVyX19yZWdpc3Rlci1idXR0b24iLAogICAgb25DbGljazogX2NhY2hlWzNdIHx8IChfY2FjaGVbM10gPSAoLi4uYXJncykgPT4gJHNldHVwLmhhbmRsZVJlZ2lzdGVyICYmICRzZXR1cC5oYW5kbGVSZWdpc3RlciguLi5hcmdzKSkKICB9LCAi5rOo5YaMIiksIF9jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgIGNsYXNzOiAid3JhcHBlcl9fcmVnaXN0ZXItbGluayIsCiAgICBvbkNsaWNrOiBfY2FjaGVbNF0gfHwgKF9jYWNoZVs0XSA9ICguLi5hcmdzKSA9PiAkc2V0dXAuaGFuZGxlVG9Mb2dpbiAmJiAkc2V0dXAuaGFuZGxlVG9Mb2dpbiguLi5hcmdzKSkKICB9LCAiIOW3suaciei0puWPt+WOu+eZu+W9lSAiKSwgJHNldHVwLnNob3cgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9Ub2FzdCwgewogICAga2V5OiAwLAogICAgbWVzc2FnZTogJHNldHVwLnRvYXN0TWVzc2FnZQogIH0sIG51bGwsIDgsIFsibWVzc2FnZSJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCIiLCB0cnVlKV0pOwp9"},{"version":3,"names":["class","_createElementVNode","src","alt","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","type","placeholder","$setup","username","$event","_hoisted_4","autocomplete","password","_hoisted_5","id","ensurement","onClick","_cache","args","handleRegister","handleToLogin","show","_createBlock","_component_Toast","message","toastMessage"],"sources":["/Users/liushuai/Desktop/jingdong/src/views/register/Register.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <img\n      src=\"http://www.dell-lee.com/imgs/vue3/user.png\"\n      alt=\"\"\n      class=\"wrapper__img\"\n    />\n    <div class=\"wrapper__input\">\n      <input\n        type=\"text\"\n        class=\"wrapper__input__content\"\n        placeholder=\"请输入用户名\"\n        v-model=\"username\"\n      />\n    </div>\n    <div class=\"wrapper__input\">\n      <input\n        type=\"password\"\n        class=\"wrapper__input__content\"\n        placeholder=\"请输入密码\"\n        autocomplete=\"new-password\"\n        v-model=\"password\"\n      />\n    </div>\n    <div class=\"wrapper__input\">\n      <input\n        type=\"password\"\n        class=\"wrapper__input__content\"\n        id=\"wrapper__input__content\"\n        placeholder=\"确认密码\"\n        v-model=\"ensurement\"\n      />\n    </div>\n    <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\n    <div class=\"wrapper__register-link\" @click=\"handleToLogin\">\n      已有账号去登录\n    </div>\n    <Toast v-if=\"show\" :message=\"toastMessage\" />\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { post } from \"../../utils/request\";\nimport Toast, { useToastEffect } from \"../../components/Toast\";\n\n//注册相关逻辑\nconst useRegisterEffect = (showToast) => {\n  const router = useRouter();\n  const data = reactive({\n    username: \"\",\n    password: \"\",\n    ensurement: \"\",\n  });\n\n  const handleRegister = async () => {\n    const {username, password, ensurement} = data;\n    if (!username || !password || !ensurement) return showToast(\"用户名密码确认密码不能为空！\");\n    if (password !== ensurement) return showToast(\"密码确认不一致！\");\n    try {\n      const result = await post(\"/api/user/register\", {\n        email: data.email,\n        password: data.password,\n      });\n      if (result?.errno === 0) {\n        router.push({ name: \"Login\" });\n      } else {\n        showToast(\"注册失败\");\n      }\n    } catch (e) {\n      showToast(\"请求失败\");\n    }\n  };\n  const { username, password, ensurement } = toRefs(data);\n  return { username, password, ensurement, handleRegister };\n};\n\nconst useToLoginEffect = () => {\n  const router = useRouter();\n  const handleToLogin = () => {\n    router.push({ name: \"Login\" });\n  };\n  return { handleToLogin };\n};\n\nexport default {\n  name: \"Register\",\n  components: { Toast },\n  setup() {\n    const { show, toastMessage, showToast } = useToastEffect();\n    const { username, password, ensurement, handleRegister } =\n      useRegisterEffect(showToast);\n    const { handleToLogin } = useToLoginEffect();\n    return {\n      handleRegister,\n      handleToLogin,\n      username,\n      password,\n      ensurement,\n      showToast,\n      show,\n      toastMessage,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/viriables.scss\";\n.wrapper {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  transform: translateY(-50%);\n  &__img {\n    display: block;\n    width: 0.66rem;\n    height: 0.66rem;\n    margin: 0 auto 0.4rem;\n  }\n  &__input {\n    padding: 0 0.16rem;\n    box-sizing: border-box;\n    height: 0.48rem;\n    margin: 0 0.4rem 0.16rem;\n    background-color: #f9f9f9;\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\n    border-radius: 0.06rem;\n    border-radius: 0.06rem;\n    &__content {\n      margin-top: .11rem;\n      line-height: 0.22rem;\n      border: none;\n      outline: none;\n      width: 100%;\n      background: none;\n      font-size: 0.16rem;\n      color: $content-notice-fontColor;\n      &::placeholder {\n        font-size: .16rem;\n        color: $content-notice-fontColor;\n        letter-spacing: 0;\n        line-height: .24rem;\n      }\n    }\n  }\n  &__register-button {\n    background-color:$btn-bgColor;\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\n    height: 0.48rem;\n    margin: 0.32rem 0.4rem 0.16rem;\n    border-radius: 0.04rem;\n    font-size: 0.16rem;\n    line-height: 0.48rem;\n    color: $bg-color;\n    text-align: center;\n  }\n  &__register-link {\n    font-size: 0.14rem;\n    color:$content-notice-fontColor;\n    text-align: center;\n  }\n}\n</style>"],"mappings":";;;EACOA,KAAK,EAAC;AAAS;gEAClBC,mBAAA,CAIE;EAHAC,GAAG,EAAC,4CAA4C;EAChDC,GAAG,EAAC,EAAE;EACNH,KAAK,EAAC;;;EAEHA,KAAK,EAAC;AAAgB;;EAQtBA,KAAK,EAAC;AAAgB;;EAStBA,KAAK,EAAC;AAAgB;;;uBAvB7BI,mBAAA,CAqCM,OArCNC,UAqCM,GApCJC,UAIE,EACFL,mBAAA,CAOM,OAPNM,UAOM,G,gBANJN,mBAAA,CAKE;IAJAO,IAAI,EAAC,MAAM;IACXR,KAAK,EAAC,yBAAyB;IAC/BS,WAAW,EAAC,QAAQ;+DACXC,MAAA,CAAAC,QAAQ,GAAAC,MAAA;gCAARF,MAAA,CAAAC,QAAQ,E,KAGrBV,mBAAA,CAQM,OARNY,UAQM,G,gBAPJZ,mBAAA,CAME;IALAO,IAAI,EAAC,UAAU;IACfR,KAAK,EAAC,yBAAyB;IAC/BS,WAAW,EAAC,OAAO;IACnBK,YAAY,EAAC,cAAc;+DAClBJ,MAAA,CAAAK,QAAQ,GAAAH,MAAA;gCAARF,MAAA,CAAAK,QAAQ,E,KAGrBd,mBAAA,CAQM,OARNe,UAQM,G,gBAPJf,mBAAA,CAME;IALAO,IAAI,EAAC,UAAU;IACfR,KAAK,EAAC,yBAAyB;IAC/BiB,EAAE,EAAC,yBAAyB;IAC5BR,WAAW,EAAC,MAAM;+DACTC,MAAA,CAAAQ,UAAU,GAAAN,MAAA;gCAAVF,MAAA,CAAAQ,UAAU,E,KAGvBjB,mBAAA,CAAsE;IAAjED,KAAK,EAAC,0BAA0B;IAAEmB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEX,MAAA,CAAAY,cAAA,IAAAZ,MAAA,CAAAY,cAAA,IAAAD,IAAA,CAAc;KAAE,IAAE,GAChEpB,mBAAA,CAEM;IAFDD,KAAK,EAAC,wBAAwB;IAAEmB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEX,MAAA,CAAAa,aAAA,IAAAb,MAAA,CAAAa,aAAA,IAAAF,IAAA,CAAa;KAAE,WAE3D,GACaX,MAAA,CAAAc,IAAI,I,cAAjBC,YAAA,CAA6CC,gBAAA;;IAAzBC,OAAO,EAAEjB,MAAA,CAAAkB"}]}